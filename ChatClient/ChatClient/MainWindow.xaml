<Window x:Class="ChatClient.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Chat App Kelompok 7" Height="720" Width="1080"
        Loaded="Window_Loaded">
    <Grid Name="MainGrid">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="45.551"/>
            <ColumnDefinition Width="0"/>
            <ColumnDefinition Width="154.449"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <Border Grid.Column="0" Name="SidebarBorder" Background="#2F3136" Margin="0,0,1,0" Grid.ColumnSpan="3">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>
                <TextBlock Grid.Row="0" Text="ONLINE USERS" Name="UserListHeader" Foreground="#8E9297" Margin="10,10,10,5" FontWeight="SemiBold"/>

                <ListView Grid.Row="1" Name="lstUsers" Background="Transparent" BorderBrush="Transparent" Foreground="#DCDDDE"
                          SelectionMode="Single"
                          ScrollViewer.HorizontalScrollBarVisibility="Disabled">

                    <ListView.Template>
                        <ControlTemplate TargetType="{x:Type ListView}">
                            <Border BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" Background="{TemplateBinding Background}" Padding="{TemplateBinding Padding}" SnapsToDevicePixels="True">
                                <ScrollViewer CanContentScroll="True" HorizontalScrollBarVisibility="Disabled" VerticalScrollBarVisibility="{TemplateBinding ScrollViewer.VerticalScrollBarVisibility}">
                                    <ItemsPresenter SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}"/>
                                </ScrollViewer>
                            </Border>
                        </ControlTemplate>
                    </ListView.Template>

                    <ListView.ItemContainerStyle>
                        <Style TargetType="ListViewItem">
                            <Setter Property="Background" Value="Transparent"/>
                            <Setter Property="BorderBrush" Value="Transparent"/>
                            <Setter Property="Focusable" Value="False"/>
                            <Setter Property="Padding" Value="0,0"/>
                            <Setter Property="Template">
                                <Setter.Value>
                                    <ControlTemplate TargetType="ListViewItem">
                                        <Border Name="border" Padding="5,2" SnapsToDevicePixels="True"
                                                Background="{TemplateBinding Background}">
                                            <ContentPresenter/>
                                        </Border>
                                        <ControlTemplate.Triggers>
                                            <Trigger Property="IsMouseOver" Value="True">
                                                <Setter TargetName="border" Property="Background" Value="#4F545C"/>
                                            </Trigger>
                                        </ControlTemplate.Triggers>
                                    </ControlTemplate>
                                </Setter.Value>
                            </Setter>
                        </Style>
                    </ListView.ItemContainerStyle>

                    <ListView.ItemTemplate>
                        <DataTemplate>
                            <Grid Width="{Binding RelativeSource={RelativeSource AncestorType={x:Type ListView}}, Path=ActualWidth}">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>

                                <TextBlock Text="{Binding}" Grid.Column="0" VerticalAlignment="Center" Margin="0,0,5,0"
                                           Foreground="{Binding Path=Foreground, RelativeSource={RelativeSource AncestorType={x:Type ListView}}}" />

                                <Button Content="PM" Grid.Column="1"
                                        Background="#7289DA" Foreground="White" BorderBrush="#7289DA"
                                        Width="45" Padding="0" Margin="0"
                                        FontSize="10" FontWeight="SemiBold"
                                        Click="PmButton_Click"
                                        CommandParameter="{Binding}"/>
                            </Grid>
                        </DataTemplate>
                    </ListView.ItemTemplate>
                </ListView>
            </Grid>
        </Border>

        <Grid Grid.Column="3">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="10">
                <TextBlock Text="IP Server:" VerticalAlignment="Center" Name="IpTextBlock" Foreground="#B9BBBE"/>
                <TextBox Name="txtIP" Width="100" Margin="5,0"/>
                <TextBlock Text="Port:" VerticalAlignment="Center" Name="PortTextBlock" Foreground="#B9BBBE"/>
                <TextBox Name="txtPort" Width="50" Margin="5,0"/>
                <TextBlock Text="Username:" VerticalAlignment="Center" Name="UsernameTextBlock" Foreground="#B9BBBE"/>
                <TextBox Name="txtUsername" Width="100" Margin="5,0"/>
                <Button Name="btnConnect" Content="Connect" Margin="5,0" Click="btnConnect_Click"
                        Background="#7289DA" Foreground="White" BorderBrush="#7289DA"/>
                <Button Name="btnDisconnect" Content="Disconnect" IsEnabled="False" Margin="5,0" Click="btnDisconnect_Click"
                        Background="#FF5733" Foreground="White" BorderBrush="#FF5733"/>
                <TextBlock Text="Tema:" VerticalAlignment="Center" Margin="15,0,5,0" Name="ThemeTextBlock" Foreground="#B9BBBE"/>
                <RadioButton Name="LightModeRadio" Content="Terang" VerticalAlignment="Center" GroupName="Theme" Margin="0,0,5,0" Checked="LightModeRadio_Checked" Foreground="#B9BBBE"/>
                <RadioButton Name="DarkModeRadio" Content="Gelap" VerticalAlignment="Center" GroupName="Theme" Checked="DarkModeRadio_Checked" Foreground="#B9BBBE"/>
            </StackPanel>

            <ListBox Grid.Row="1" Name="lstChat" Margin="10,10,10,5" Background="#36393F" BorderBrush="Transparent" Foreground="#DCDDDE"/>

            <TextBlock Grid.Row="2" Name="TypingIndicator" Margin="15,0,10,5" Foreground="#7289DA" FontStyle="Italic"/>

            <Grid Grid.Row="3" Margin="10,0,10,10">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <TextBox Name="txtMessage" Grid.Column="0" KeyDown="txtMessage_KeyDown" TextChanged="txtMessage_TextChanged"
                         Background="#40444B" BorderBrush="#202225" Foreground="#DCDDDE" Padding="5"/>
                <Button Name="btnSend" Grid.Column="1" Content="Send" Margin="5,0,0,0" Click="btnSend_Click" IsEnabled="False"
                        Background="#7289DA" Foreground="White" BorderBrush="#7289DA"/>
            </Grid>
        </Grid>
    </Grid>
</Window>